# ExploreWithMe
Pull request:
https://github.com/PetrutikSA/java-explore-with-me/pull/3

## Идея
Свободное время — ценный ресурс. Ежедневно мы планируем, как его потратить — куда и с кем сходить. Сложнее всего в таком планировании поиск информации и переговоры. Нужно учесть много деталей: какие намечаются мероприятия, свободны ли в этот момент друзья, как всех пригласить и где собраться.

Данное приложение позволит пользователям делиться информацией об интересных событиях и находить компанию для участия в них.
Так же поддерживается общение пользователей с помощью комментариев к событиям.

## Структура
Приложение состоит из двух сервисов:

- ___основной сервис___ - содержит всё необходимое для работы продукта;
- ___сервис статистики___ - хранит количество просмотров и позволяет делать различные выборки для анализа работы приложения.

### Основной сервис

API основного сервиса разделите на три части:

- ___Public___ - доступна без регистрации любому пользователю сети:
  - предоставляет возможности поиска и фильтрации событий
  - позволяет получать комментарии к событиям
- ___Private___ - доступна только авторизованным пользователям:
  - позволяет добавлять в приложение новые мероприятия, редактировать их и просматривать после добавления;
  - реализует функционал подачи заявок на участие в интересующих мероприятиях;
  - создатель мероприятия имеет возможность подтверждать заявки, которые отправили другие пользователи сервиса.
  - позволяет пользователям создавать, обновлять и удалять комментарии к событиям 
- ___Admin___ - для администраторов сервиса:
  - позволяет добавлять, изменять и удалять категорий для событий;
  - реализует функционал модерации событий, размещённых пользователями, — публикация или отклонение;
  - позволяет управлять пользователями — добавление, активация, просмотр и удаление;
  - представляет возможность добавлять, удалять и закреплять на главной странице подборки мероприятий;
  - позволяет удалять любые комментарии, для целей модерации. 

### Сервис статистики
Функционал сервиса статистики:

- запись информации о том, что был обработан запрос к эндпоинту API;
- предоставление статистики за выбранные даты по выбранному эндпоинту.

## Эндпойнты
### Основной сервис
#### Public: Подборки событий - Публичный API для работы с подборками событий
- __GET__ _/compilations_ - Получение подборок событий
- __GET__ _/compilations/{compId}_ - Получение подборки событий по его id

#### Admin: Категории - API для работы с категориями
- __POST__ _/admin/categories_ - Добавление новой категории
- __DELETE__ _/admin/categories/{catId}_ - Удаление категории
- __PATCH__ _/admin/categories/{catId}_ - Изменение категории

#### Private: События - Закрытый API для работы с событиями
- __GET__ _/users/{userId}/events_ - Получение событий, добавленных текущим пользователем
- __POST__ _/users/{userId}/events_ - Добавление нового события
- __GET__ _/users/{userId}/events/{eventId}_ - Получение полной информации о событии добавленном текущим пользователем
- __PATCH__ _/users/{userId}/events/{eventId}_ - Изменение события добавленного текущим пользователем
- __GET__ _/users/{userId}/events/{eventId}/requests_ - Получение информации о запросах на участие в событии текущего пользователя
- __PATCH__ _/users/{userId}/events/{eventId}/requests_ - Изменение статуса (подтверждена, отменена) заявок на участие в событии текущего пользователя

#### Public: Категории - Публичный API для работы с категориями
- __GET__ _/categories_ - Получение категорий
- __GET__ _/categories/{catId}_  - Получение информации о категории по её идентификатору

#### Admin: События - API для работы с событиями
- __GET__  _/admin/events_ - Поиск событий
- __PATCH__ _/admin/events/{eventId}_ - Редактирование данных события и его статуса (отклонение/публикация).

#### Public: События - Публичный API для работы с событиями
- __GET__ _/events_ - Получение событий с возможностью фильтрации
- __GET__ _/events/{id}_ - Получение подробной информации об опубликованном событии по его идентификатору

#### Private: Запросы на участие - Закрытый API для работы с запросами текущего пользователя на участие в событиях
- __GET__ _/users/{userId}/requests_ - Получение информации о заявках текущего пользователя на участие в чужих событиях
- __POST__ _/users/{userId}/requests_ - Добавление запроса от текущего пользователя на участие в событии
- __PATCH__ _/users/{userId}/requests/{requestId}/cancel_ - Отмена своего запроса на участие в событии

#### Admin: Пользователи - API для работы с пользователями
- __GET__ _/admin/users_ - Получение информации о пользователях
- __POST__ _/admin/users_ - Добавление нового пользователя
- __DELETE__ _/admin/users/{userId}_ - Удаление пользователя

#### Admin: Подборки событий - API для работы с подборками событий
- __POST__ _/admin/compilations_ - Добавление новой подборки (подборка может не содержать событий)
- __DELETE__ _/admin/compilations/{compId}_ - Удаление подборки
- __PATCH__ _/admin/compilations/{compId}_ - Обновить информацию о подборке

#### Private: Комментарии - Закрытый API для работы комментариями
- __POST__ _/users/{userId}/events/{eventId}/comments_ - Добавление нового комментария
- __DELETE__ _/users/{userId}/events/{eventId}/comments/{commentId}_ - Удаление комментария созданного текущим пользователем
- __PATCH__ _/users/{userId}/events/{eventId}/comments/{commentId}_ - Изменение комментария добавленного текущим пользователем

#### Admin: Комментарии - API для работы с комментариями
- __DELETE__ _/admin/comments/{commentId}_ - Удаление комментария любого пользователя

#### Public: Комментарии - Публичный API для работы с комментариями
- __GET__ _/events/{eventId}/comments_ - Получение всех комментарий для указанного события с возможностью пагинации
- __GET__ _/events/{eventId}/comments/{commentId}_ - Получение информации о комментарии по его идентификатору

### Сервис статистики
- __POST__ _/hit_ - Сохранение информации о том, что к эндпоинту был запрос
- __GET__ _/stats_ - Получение статистики по посещениям