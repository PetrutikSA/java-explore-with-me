CREATE TABLE IF NOT EXISTS apps (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
  name VARCHAR(255) NOT NULL,
  CONSTRAINT pk_apps PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS uris (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
  name VARCHAR(512) NOT NULL,
  CONSTRAINT pk_uris PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS ips (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
  name VARCHAR(15) NOT NULL,
  CONSTRAINT pk_ips PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS endpoints_hits (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
  app_id BIGINT NOT NULL REFERENCES apps(id),
  uri_id BIGINT NOT NULL REFERENCES uris(id),
  ip_id BIGINT NOT NULL REFERENCES ips(id),
  created TIMESTAMP NOT NULL,
  CONSTRAINT pk_user PRIMARY KEY (id)
);
